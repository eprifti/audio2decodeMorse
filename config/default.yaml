data:
  train_manifest: data/manifests/train.jsonl
  val_manifest: data/manifests/val.jsonl
  sample_rate: 16000
  n_mels: 64
  frame_length_ms: 25
  frame_step_ms: 10
  max_duration_s: 12
  augment:
    specaugment:
      enabled: true
      freq_mask_param: 8
      time_mask_param: 30
      num_masks: 2
    waveform:
      enabled: true
      gain_min: 0.9
      gain_max: 1.1
      noise_std: 0.005

labels:
  # Covers all symbols in src/audio2morse/data/morse_map.py plus space.
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,?'!/()&:;=+-_\"$@ "

model:
  cnn_channels: [32, 64, 128]
  # Pool only in frequency (time stride 1) for the first two blocks, light pool in time on the last.
  pool_kernel:
    - [1, 2]
    - [1, 2]
    - [2, 2]
  rnn_hidden_size: 256
  rnn_layers: 3
  dropout: 0.3

training:
  batch_size: 8
  num_workers: 0  # macOS often needs 0 workers to avoid shared memory issues
  epochs: 10
  learning_rate: 0.001
  weight_decay: 0.0001
  grad_clip: 5.0
  log_interval: 20
  checkpoint_dir: outputs
  seed: 42
  early_stop_patience: 3  # set to null to disable early stopping
  lr_scheduler:
    type: reduce_on_plateau
    factor: 0.5
    patience: 2
    min_lr: 1.0e-5
